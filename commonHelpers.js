import{i as c,S as h}from"./assets/vendor-5b791d57.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();function d(n){const s=document.querySelector(".gallery");s.innerHTML="",n&&n.hits&&Array.isArray(n.hits)?n.hits.slice(0,9).forEach(t=>{const e=document.createElement("a");e.href=t.largeImageURL,e.rel="noopener noreferrer",e.classList.add("card");const o=document.createElement("img");o.src=t.webformatURL,o.alt=t.tags;const a=document.createElement("div");a.classList.add("metrics");const p=i("Likes",t.likes),m=i("Views",t.views),f=i("Comments",t.comments),y=i("Downloads",t.downloads);a.appendChild(p),a.appendChild(m),a.appendChild(f),a.appendChild(y),e.appendChild(o),e.appendChild(a),s.appendChild(e)}):console.error("Invalid images data:",n)}function i(n,s){const r=document.createElement("div");r.classList.add("metric-container");const t=document.createElement("span");t.textContent=n,t.classList.add("metric-label"),t.style.fontWeight="bold",r.appendChild(t);const e=document.createElement("span");return e.textContent=s,e.classList.add("metric-value"),r.appendChild(e),r}function g(){const n=document.querySelector(".loading-indicator");n.textContent="Loading images, please wait...",n.style.display="block"}function l(){const n=document.querySelector(".loading-indicator");n.style.display="none"}function C(){const n=document.querySelector(".gallery");n.innerHTML=""}const L="42598538-444db408f0d8256d557c709b2",w="https://pixabay.com/api/";async function u(n){const s=`${w}?key=${L}&q=${encodeURIComponent(n)}&image_type=photo&orientation=horizontal&safesearch=true`;try{const r=await fetch(s);if(!r.ok)throw new Error("HTTP Error: "+r.status);return await r.json()}catch(r){throw new Error("Error fetching images: "+r.message)}}async function E(n){n.preventDefault(),g(),C();const r=document.querySelector('.search-form input[type="text"]').value.trim();if(r===""){c.error({title:"Помилка",message:"Будь ласка, введіть текст для пошуку",position:"topCenter"}),l();return}try{const t=await u(r);t.hits.length===0?c.warning({title:"Увага",message:"Вибачте, результатів пошуку не знайдено. Спробуйте інший запит.",position:"topCenter"}):d(t)}catch(t){console.error(t.message),c.error({title:"Помилка",message:"Під час виконання запиту сталася помилка. Будь ласка, спробуйте ще раз.",position:"topCenter"})}finally{l()}}document.addEventListener("DOMContentLoaded",async function(){document.querySelector(".search-form").addEventListener("submit",async function(o){o.preventDefault(),await E(o)});const s=new h(".gallery a",{captionDelay:250});function r(){s.refresh()}const e=await u("your_default_query_here");d(e),r()});
//# sourceMappingURL=commonHelpers.js.map
